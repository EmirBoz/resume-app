<!-- CV Application Main Template -->
<main 
  class="container relative mx-auto scroll-my-12 overflow-auto p-4 print:p-11 md:p-16"
  id="cv-content"
  role="main"
  [attr.aria-label]="resumeData().name + ' Resume'"
>
  <!-- Screen reader only title -->
  <div class="sr-only">
    <h1>{{ resumeData().name }}'s Resume</h1>
  </div>

  <!-- Error State -->
  @if (errorState()) {
    <div class="flex flex-col items-center justify-center min-h-[400px] space-y-4">
      <div class="text-center">
        <h2 class="text-xl font-semibold text-destructive mb-2">
          Something went wrong
        </h2>
        <p class="text-muted-foreground mb-4">
          {{ errorState() }}
        </p>
        <button 
          class="px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90"
          (click)="retry()"
        >
          Try Again
        </button>
      </div>
    </div>
  } @else {
    <!-- Main CV Content -->
    <section
      class="mx-auto w-full max-w-2xl space-y-8 bg-white print:space-y-4"
      aria-label="Resume Content"
    >
      <!-- Header Section -->
      <div class="space-y-4">
        @if (isLoading()) {
          <app-skeleton [lines]="4" height="1.5rem"></app-skeleton>
        } @else {
          <!-- Header component will be added in next task -->
          <div class="text-center p-8 border-2 border-dashed border-muted rounded-lg">
            <h2 class="text-lg font-semibold text-muted-foreground">
              Header Component
            </h2>
            <p class="text-sm text-muted-foreground mt-2">
              {{ resumeData().name }} - {{ resumeData().about }}
            </p>
          </div>
        }
      </div>

      <!-- Content Sections -->
      <div class="space-y-8 print:space-y-4">
        <!-- Summary Section -->
        <div>
          @if (isLoading()) {
            <app-skeleton [lines]="2" height="1rem"></app-skeleton>
          } @else {
            <div class="text-center p-6 border-2 border-dashed border-muted rounded-lg">
              <h3 class="text-md font-semibold text-muted-foreground">
                Summary Component
              </h3>
              <p class="text-sm text-muted-foreground mt-2">
                {{ resumeData().summary }}
              </p>
            </div>
          }
        </div>

        <!-- Work Experience Section -->
        <div>
          @if (isLoading()) {
            <app-skeleton [lines]="6" height="1rem"></app-skeleton>
          } @else {
            <div class="text-center p-6 border-2 border-dashed border-muted rounded-lg">
              <h3 class="text-md font-semibold text-muted-foreground">
                Work Experience Component
              </h3>
              <p class="text-sm text-muted-foreground mt-2">
                {{ resumeData().work.length }} work experiences
              </p>
            </div>
          }
        </div>

        <!-- Education Section -->
        <div>
          @if (isLoading()) {
            <app-skeleton [lines]="3" height="1rem"></app-skeleton>
          } @else {
            <div class="text-center p-6 border-2 border-dashed border-muted rounded-lg">
              <h3 class="text-md font-semibold text-muted-foreground">
                Education Component
              </h3>
              <p class="text-sm text-muted-foreground mt-2">
                {{ resumeData().education.length }} education entries
              </p>
            </div>
          }
        </div>

        <!-- Skills Section -->
        <div>
          @if (isLoading()) {
            <app-skeleton [lines]="2" height="1rem"></app-skeleton>
          } @else {
            <div class="text-center p-6 border-2 border-dashed border-muted rounded-lg">
              <h3 class="text-md font-semibold text-muted-foreground">
                Skills Component
              </h3>
              <p class="text-sm text-muted-foreground mt-2">
                {{ resumeData().skills.length }} skills
              </p>
            </div>
          }
        </div>

        <!-- Projects Section -->
        <div>
          @if (isLoading()) {
            <app-skeleton [lines]="5" height="1rem"></app-skeleton>
          } @else {
            <div class="text-center p-6 border-2 border-dashed border-muted rounded-lg">
              <h3 class="text-md font-semibold text-muted-foreground">
                Projects Component
              </h3>
              <p class="text-sm text-muted-foreground mt-2">
                {{ resumeData().projects.length }} projects
              </p>
            </div>
          }
        </div>
      </div>
    </section>

    <!-- Command Menu (will be added in later task) -->
    <nav class="print:hidden" aria-label="Quick navigation">
      <div class="fixed bottom-4 right-4 p-4 bg-muted rounded-lg">
        <p class="text-sm text-muted-foreground">
          Command Menu Component
        </p>
      </div>
    </nav>
  }
</main>


